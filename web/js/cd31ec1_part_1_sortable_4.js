;var adminNs={initDraggableEntityRows:function(){var t=null,o=null,e=null,n=null,a,r,l=null,s=null;function d(e){t=this;l=$(this).attr('rel');res=l.split('-');s=res[0];r=res[1];n=t.parentNode.id;t.style.opacity='0.4';a=t.parentNode;o=Array.prototype.indexOf.call(a.children,t);console.log('start: '+o);e.dataTransfer.effectAllowed='move';e.dataTransfer.setData('text/html',this.innerHTML);console.log(r)};function c(t){if(t.preventDefault){t.preventDefault()};t.dataTransfer.dropEffect='move';return!1};function f(t){this.classList.add('over')};function u(t){this.classList.remove('over')};function g(i){if(i.stopPropagation){i.stopPropagation()};if(t!=this){e=Array.prototype.indexOf.call(a.children,this);console.log('end: '+e);t.innerHTML=this.innerHTML;this.innerHTML=i.dataTransfer.getData('text/html');$.ajax({url:'/es/'+s+'/image/sort/'+r+'/'+e,}).done(function(t){console.log(t);$('table.sortable tbody#'+n).replaceWith($(t).find('table.sortable tbody#'+n))}).fail(function(t){console.log(t)}).always(function(){adminNs.initDraggableEntityRows()})};return!1};function v(t){this.style.opacity='1';[].forEach.call(i,function(t){t.classList.remove('over')})};var i=document.querySelectorAll('table.sortable > tbody tr');[].forEach.call(i,function(t){t.addEventListener('dragstart',d,!1);t.addEventListener('dragenter',f,!1);t.addEventListener('dragover',c,!1);t.addEventListener('dragleave',u,!1);t.addEventListener('drop',g,!1);t.addEventListener('dragend',v,!1)})},init:function(){this.initDraggableEntityRows();return!0}};$(function(){adminNs.init()});