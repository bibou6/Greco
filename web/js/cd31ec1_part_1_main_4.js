;var dropzone=new Dropzone('#dropzone-easyadmin',{autoQueue:!1,parallelUploads:3,chunking:!1,resizeQuality:0.6,});function getOrientation(e,t){var r=new FileReader();r.onload=function(a){var r=new DataView(a.target.result);if(r.getUint16(0,!1)!=0xFFD8){return t(-2)};var d=r.byteLength,e=2;while(e<d){if(r.getUint16(e+2,!1)<=8)return t(-1);var o=r.getUint16(e,!1);e+=2;if(o==0xFFE1){if(r.getUint32(e+=2,!1)!=0x45786966){return t(-1)};var i=r.getUint16(e+=6,!1)==0x4949;e+=r.getUint32(e+4,i);var l=r.getUint16(e,i);e+=2;for(var n=0;n<l;n++){if(r.getUint16(e+(n*12),i)==0x0112){return t(r.getUint16(e+(n*12)+8,i))}}}
else if((o&0xFF00)!=0xFF00){break}
else{e+=r.getUint16(e,!1)}};return t(-1)};r.readAsArrayBuffer(e)};dropzone.on('addedfile',function(e){var t=700,r=700,a=new FileReader();a.addEventListener('load',function(a){var n=new Image();n.src=a.target.result;n.addEventListener('load',function(a){var i=a.target.width,o=a.target.height,v=getOrientation(e,function(e){alert('orientation: '+e);return e});if(i<=t&&o<=r){dropzone.enqueueFile(e);return};if(i>o){if(i>t){o*=t/i;i=t}}
else{if(o>r){i*=r/o;o=r}};var l=document.createElement('canvas');l.width=i;l.height=o;var s=l.getContext('2d');s.drawImage(n,0,0,i,o);var d=0;switch(orientation){case 3:d=180;break;case 6:d=-90;break;case 8:d=90;break};s.translate(l.width/2,l.height/2);s.rotate(d);var u=base64ToFile(l.toDataURL(),e),f=dropzone.files.indexOf(e);dropzone.files[f]=u;dropzone.enqueueFile(u)})});a.readAsDataURL(e)});function base64ToFile(e,t){var a,o;if(e.split(',')[0].indexOf('base64')!==-1){a=atob(e.split(',')[1])}
else{a=decodeURI(e.split(',')[1])};o=e.split(',')[0].split(':')[1].split(';')[0];var i=[];for(var r=0;r<a.length;r++){i[r]=a.charCodeAt(r)};var n=new File([new Uint8Array(i)],t.name,{type:o});var l=['upload','status','previewElement','previewTemplate','accepted'];$.each(l,function(e,r){n[r]=t[r]});return n};